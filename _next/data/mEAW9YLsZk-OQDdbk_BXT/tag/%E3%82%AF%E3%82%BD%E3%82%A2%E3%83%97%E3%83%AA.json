{"pageProps":{"entries":{"items":[{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"2widkdbc59vz"}},"id":"5orLNCu6TyzBwrQQPJR2CG","type":"Entry","createdAt":"2020-05-27T09:06:27.521Z","updatedAt":"2020-06-13T03:59:50.209Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":5,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"Googleカレンダーで去年の予定を横に並べて表示してくれるやつをつくりました","slug":"kuso-calendar","excerpt":"早いものであっという間に今年もクソアプリの季節がやってきたので、また作りました。 タイトルはそのまんま、「Googleカレンダーで去年の予定を横に並べて表示してくれるやつ」です。\n\n<iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fcalendar.notsobad.jp%2F\" title=\"Googleカレンダーで去年の予定を横に並べて表示してくれるやつ\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"https://calendar.notsobad.jp/\">calendar.notsobad.jp</a></cite>","content":"早いものであっという間に今年もクソアプリの季節がやってきたので、また作りました。 タイトルはそのまんま、「Googleカレンダーで去年の予定を横に並べて表示してくれるやつ」です。\n\n<iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fcalendar.notsobad.jp%2F\" title=\"Googleカレンダーで去年の予定を横に並べて表示してくれるやつ\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"https://calendar.notsobad.jp/\">calendar.notsobad.jp</a></cite>* * *\n\nこの記事は「[クソアプリ2 Advent Calendar 2019](https://qiita.com/advent-calendar/2019/kuso-app2)」19日目の記事です。\n\n🤔これはなに？\n--------\n\n年末年始は1年を振り返ることが多いと思うんですけど、気づくと1ヶ月単位で記憶が抜けてたりしますよね。 あれ3月なにしてたっけ？みたいな。\n\n自分の場合はGoogleカレンダーにけっこう予定を入れてるので、それを見ればだいたい何してたか思い出せるはず。 しかし1年前までさかのぼって確認するのはとても面倒くさいので、ほとんどしたことがありません。\n\nそこで、普段のカレンダー表示の横に、去年の予定を並べて表示できる仕組みを作ってみました。 こんな感じです。\n\n![f:id:o_tomomichi:20191216173523p:plain](https://storage.googleapis.com/blog-notsobad/images/20191216173523.png \"f:id:o_tomomichi:20191216173523p:plain\")\n\nこれは2020年の1月を表示しているのですが、2019年の予定が独立したカレンダーとして登録されていて、2020年にも表示されていることがわかります（モザイクが多くてわかりにくい）。\n\nやっていることは、\n\n*   \\[1\\] Googleカレンダーのデータをicsファイルでエクスポート\n*   \\[2\\] 過去予定の日付を、年だけ2020年に変更する\n*   \\[3\\] 修正したicsをカレンダーに再インポート\n\n\\[1\\]と\\[3\\]はGoogleカレンダーの機能なので、このサービスがやってるのは\\[2\\]の年変換だけですね。 しかし実際やってみると簡単に去年が振り返れてけっこうたのしいので、ご興味あればぜひお試しください。\n\n以下もうちょっと詳しく手順を説明します。\n\n✅ 使い方\n-----\n\n#### \\[1\\] Googleカレンダーのデータをicsファイルでエクスポート\n\nまずはGoogleカレンダーの標準機能で、データをエクスポートしておきます。\n\n> 「設定」→「マイカレンダーの設定」→「カレンダーをエクスポート」\n\n公式のガイドはこちら。  \n[Google カレンダーを書き出す - カレンダー ヘルプ](https://support.google.com/calendar/answer/37111?hl=ja)\n\n#### \\[2\\] 過去予定の日付を、年だけ2020年に変更する\n\n次に、エクスポートしたicsファイルを本サイトで加工します。\n\nシンプルなページなので迷うことはないと思いますが、ファイル選択フォームで先ほどダウンロードしたicsファイルを選択してください。 その後「出力」ボタンをクリックすると、日付けを修正したicsファイルがダウンロードされます。\n\n※カレンダーデータはどこにもアップロードされません。完全にユーザー側のローカルで処理されます（後述）。\n\n#### \\[3\\] 修正したicsをカレンダーに再インポート\n\n最後はGoogleカレンダーに戻って、先ほどエクスポートしたのと同じ画面から、修正後のicsファイルをインポートするだけです。\n\nしかし既存のカレンダーに入れるのではなく、新しいカレンダーを「2019年」とかの名前で作成して、そこにインポートすることをおすすめします。\n\n念のため新規カレンダー作成の公式手順はこちら。  \n[新しいカレンダーを作成する - カレンダー ヘルプ](https://support.google.com/calendar/answer/37095?hl=ja)\n\n💡アピールポイント\n----------\n\n#### 個人情報は一切どこにもアップされません\n\n本サイト上でのカレンダーファイルの修正・エクスポートは完全にローカルで行っており、個人情報が含まれたデータはどこにもアップされたりしません。安心してお使いください。 私は他人のカレンダー情報に一切興味がありませんし、そんなセンシティブなデータをサーバに保管する趣味もありません。\n\nどうしても心配な方はネット接続を切ってオフラインで試してもらうといいんじゃないかと思います。\n\n#### 簡単に過去予定の表示をオンオフできます\n\nこれはGoogleカレンダーの機能でしかないのですが、独立したカレンダーとして取り込むことで、簡単に表示をオンオフできます。 そんなに毎日過去の思い出に浸っててもしょうがないと思うので、ここぞというときに使っていただければと思います。\n\n💩クソアプリの限界\n----------\n\nふつうに自分がほしかった真面目ツールなので何がクソアプリなんだという話なんですが、ご覧いただいたとおり完成度がクソアプリでございます。\n\n*   2019年→2020年の変換しかしません（本当は2018年以前も別カレンダーとして出力したい）\n*   エラー制御とかもちろんしてない\n*   どのブラウザで動くのか知らない（MacのChromeでは動くはず）\n\n今後やる気が出たらちゃんと作り込む可能性も2%くらいありますが、たぶんやらないと思います。。\n\n* * *\n\nまとめ\n---\n\n12月は思ったより忙しくて大変だったけど、何とか今年もクソアプリ作れてよかったです。\n\nちなみに去年はこんなのを作っていました。 <iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fblog.notsobad.jp%2Fentry%2F2018%2F12%2F19%2F104214\" title=\"百人一首の詠み上げを音声認識していち早く下の句を教えてくれるクソアプリを作りました - NOT SO BADなブログ\" class=\"embed-card embed-blogcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 190px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"https://blog.notsobad.jp/entry/2018/12/19/104214\">blog.notsobad.jp</a></cite>\n\n今年も1年たのしかった気がするので、来年もがんばりたいです。 それではみなさまよいお年を。\n\nおしまい。","date":1576681200000,"image":"https://storage.googleapis.com/blog-notsobad/images/20191216173523.png","tag":["つくったもの","クソアプリ"]}},{"sys":{"space":{"sys":{"type":"Link","linkType":"Space","id":"2widkdbc59vz"}},"id":"55CHTP22rvN2J4UwajEwsQ","type":"Entry","createdAt":"2020-05-27T09:06:34.396Z","updatedAt":"2020-06-13T04:00:12.203Z","environment":{"sys":{"id":"master","type":"Link","linkType":"Environment"}},"revision":5,"contentType":{"sys":{"type":"Link","linkType":"ContentType","id":"post"}},"locale":"en-US"},"fields":{"title":"百人一首の詠み上げを音声認識していち早く下の句を教えてくれるクソアプリを作りました","slug":"2018/12/19/104214","excerpt":"この記事は「[クソアプリアドベントカレンダー2018](https://qiita.com/advent-calendar/2018/kuso-app)」19日目の記事です。\n\n![f:id:o_tomomichi:20181122175103p:plain](https://storage.googleapis.com/blog-notsobad/images/20181122175103.png \"f:id:o_tomomichi:20181122175103p:plain\")\n\nタイトルそのまんまですが、 百人一首の詠み上げを音声認識して、いち早く下の句を教えてくれるクソアプリ「百人一首チーター」を作りました。\n\n<iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fcheetah.notsobad.jp%2F\" title=\"百人一首チーター\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"https://cheetah.notsobad.jp/\">cheetah.notsobad.jp</a></cite>","content":"この記事は「[クソアプリアドベントカレンダー2018](https://qiita.com/advent-calendar/2018/kuso-app)」19日目の記事です。\n\n![f:id:o_tomomichi:20181122175103p:plain](https://storage.googleapis.com/blog-notsobad/images/20181122175103.png \"f:id:o_tomomichi:20181122175103p:plain\")\n\nタイトルそのまんまですが、 百人一首の詠み上げを音声認識して、いち早く下の句を教えてくれるクソアプリ「百人一首チーター」を作りました。\n\n<iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fcheetah.notsobad.jp%2F\" title=\"百人一首チーター\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"https://cheetah.notsobad.jp/\">cheetah.notsobad.jp</a></cite>* * *\n\nデモ動画\n----\n\n※音が出ます\n\n<iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/w3aSj6FSnRk\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\"></iframe>\n\n画面上部に音声認識した結果をそのまま出力していて、それをもとに正解と思われる確率が高い百人一首の句を画面下部「判定結果」のところに上位3つまで表示しています。\n\n映像だけ見ると認識開始までにタイムラグがあるように見えますが、読み上げが始まるまで間が空いただけです（動画作りがヘタ）。 実際に読み上げが始まってからはちょっと感動するくらいのスピードで正確に認識してくれてます。\n\nなんで作ったの？\n--------\n\n毎年正月は実家で親戚の集まりがあるのですが、数年前から小学生の甥っ子？も交えてみんなで百人一首をやるようになりました。\n\n初年度こそ大人げなく勝利したものの、すっかりハマった甥っ子はそれから本格的に百人一首を覚えて（百人一首クラブに入ったらしい）、次の年からは大人が誰も勝てなくなってしまいましたw\n\nこっちは毎年記憶も衰える一方なので、このままでは永遠に勝ち目がありません。また甥っ子に気を遣わせたり手加減を覚えさせるのも本意ではありません。\n\nというわけで、大人の技術力を使ったこのチートツールで今年こそ甥っ子に社会の厳しさを教えてやりたいというのが開発の背景です（半分くらい本気）。\n\n技術的な話\n-----\n\nペライチの静的なページをGithubPagesでホスティングしています。 メインの処理は素のJavascriptでわずか50行くらい。[Githubで公開](https://github.com/notsobad-jp/cheetah)してますのでよければ見てみてください。（コードが汚いのは許して！）\n\n一番コアの音声認識の部分は、HTML5の[Speech Recognition API](https://developer.mozilla.org/ja/docs/Web/API/Web_Speech_API)を使っています。\n\n<iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fqiita.com%2FPonDad%2Fitems%2F4ca433ad03efbf7499a2\" title=\"ブラウザで音声操作をする。（Speech Recognition API） - Qiita\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"https://qiita.com/PonDad/items/4ca433ad03efbf7499a2\">qiita.com</a></cite>\n\n対応しているのは今のところPCとAndroidのChromeのみですが、これが異常に便利で精度が高い。\n\n音声認識した文字列と百人一首データのマッチングでもっと手こずるかと思ってたんですが、音声認識が恐ろしい精度でほぼ完全な文字列を返してくるから、かなり適当な処理でも充分実用的なマッチング精度にできました。\n\n実際にやってる処理は、認識した文字列を1文字ずつに分解して、100首の中でマッチする文字数が多い順に返す、という感じです（なんて適当な…）。\n\nしかし試してみると思ったよりタイムラグも少ないし、マッチングの精度もなかなか高いしで完全に満足してしまいました。 まぁクソアプリですし🍣。\n\nえ、百人一首を持ってないから遊べない？\n-------------------\n\nそんなときはスマホを取り札にして百人一首すればいいじゃないですか。\n\n<iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fkarta.notsobad.jp%2F\" title=\"スマホde百人一首\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"https://karta.notsobad.jp/\">karta.notsobad.jp</a></cite>\n\nなんとユーザー登録も不要、URLをシェアするだけで超お手軽にスマホが取り札になって百人一首が遊べるぞ〜。\n\n* * *\n\nまとめ：クソアプリはよいぞ\n-------------\n\nというわけで、実質開発2日くらいのちょうどいい感じでクソアプリを作ることができました。 （メインのロジック1日＋もろもろ仕上げるのに1日くらい）\n\n普段の開発で絶対使わない技術を使ったりできるのもクソアプリ開発のいいところですね。音声認識なんてやる予定全然なかったけど、ここまで簡単で精度が高いとは思いませんでした。\n\nクソアプリは年末のお祭りみたいな感じで楽しいので、来年もぜひやってみたいと思います。気になった方もぜひどうぞ。\n\n明日はいよいよクソアプリ界の重鎮、あんどさんです。お楽しみに！ <iframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fampersand.qrunch.io%2Fentries%2FzqnaH3UJ7Uq2RmwD\" title=\"クソアプリアドベントカレンダーに関するつぶやきと振り返り\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"></iframe><cite class=\"hatena-citation\"><a href=\"https://ampersand.qrunch.io/entries/zqnaH3UJ7Uq2RmwD\">ampersand.qrunch.io</a></cite>","date":1545183734000,"image":"https://storage.googleapis.com/blog-notsobad/images/20181122175103.png","tag":["つくったもの","クソアプリ"]}}]},"tag":"クソアプリ","page":1,"hasNextPage":false},"__N_SSG":true}