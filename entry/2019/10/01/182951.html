<!DOCTYPE html><html lang="ja"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-30867542-2"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-30867542-2', {
              page_path: window.location.pathname,
            });
          </script><meta charSet="utf-8"/><meta content="width=device-width, initial-scale=1, minimum-scale=1" name="viewport"/><link rel="icon" href="/images/notsobad/favicon.ico"/><meta name="description" content="ぼっちスタートアップが日々がんばっています。"/><meta content="website" property="og:type"/><meta content="NOT SO BADなブログ" property="og:site_name"/><meta content="summary_large_image" name="twitter:card"/><title>作品の書き出しなども取得できるちょっと便利な青空文庫API「ZORAPI（ゾラピ）」ベータ版を公開しました</title><meta content="作品の書き出しなども取得できるちょっと便利な青空文庫API「ZORAPI（ゾラピ）」ベータ版を公開しました" property="og:title"/><meta content="https://notsobad.jp/blog/2019/10/01/182951" property="og:url"/><link rel="canonical" href="https://blog.notsobad.jp/2019/10/01/182951"/><meta content="https://storage.googleapis.com/blog-notsobad/images/20191002085846.png" property="og:image"/><meta content="https://storage.googleapis.com/blog-notsobad/images/20191002085846.png" name="twitter:image:src"/><meta content="

[ブンゴウメール](https://bungomail.com/)や[ゾラサーチ](https://search.bungomail.com/)など、青空文庫を活用したサービスを色々作っています。 その関係で青空文庫APIがほしくて眠れない日々が続いていたので、作りました。

「AOZORA」+「API」で「ZORAPI（ゾラピ）」です。

[青空文庫API - ZORAPI（ゾラピ）](https://api.bungomail.com/)

「ゾラサーチ」というのが青空文庫を読了時間で検索できるようにしたサービスで、このAPIはそのデータを誰でも使えるように一般公開したものです。 そのため通常の作品情報に加えて、作品の文字数や書き出し・青空文庫での累計アクセス数などの情報も返してくれるあたりがちょっといい感じかと思います。

例えばメロスだとこんな感じ：[https://api.bungomail.com/v0/books/1567](https://api.bungomail.com/v0/books/1567)

まだまだ不具合もありそうだけど、一旦使えるようにはなったので公開してみます。 v0なのでいろいろ許してください（フィードバック大歓迎です）。" property="og:description"/><meta content="作品の書き出しなども取得できるちょっと便利な青空文庫API「ZORAPI（ゾラピ）」ベータ版を公開しました" name="twitter:title"/><meta content="

[ブンゴウメール](https://bungomail.com/)や[ゾラサーチ](https://search.bungomail.com/)など、青空文庫を活用したサービスを色々作っています。 その関係で青空文庫APIがほしくて眠れない日々が続いていたので、作りました。

「AOZORA」+「API」で「ZORAPI（ゾラピ）」です。

[青空文庫API - ZORAPI（ゾラピ）](https://api.bungomail.com/)

「ゾラサーチ」というのが青空文庫を読了時間で検索できるようにしたサービスで、このAPIはそのデータを誰でも使えるように一般公開したものです。 そのため通常の作品情報に加えて、作品の文字数や書き出し・青空文庫での累計アクセス数などの情報も返してくれるあたりがちょっといい感じかと思います。

例えばメロスだとこんな感じ：[https://api.bungomail.com/v0/books/1567](https://api.bungomail.com/v0/books/1567)

まだまだ不具合もありそうだけど、一旦使えるようにはなったので公開してみます。 v0なのでいろいろ許してください（フィードバック大歓迎です）。" name="twitter:description"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/5644b8298dd7411e7ddf.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5644b8298dd7411e7ddf.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-277c75ec70a3d22a400d.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-6b728500358bd9f227e4.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-38482bdb4ba8803cee02.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-de79de6c1e2dcb6d52dc.js" as="script"/><link rel="preload" href="/_next/static/chunks/23-a289b06b4258f5c2d579.js" as="script"/><link rel="preload" href="/_next/static/chunks/996-fa0b52be06882e958afa.js" as="script"/><link rel="preload" href="/_next/static/chunks/724-975cef7c19a6db045a02.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/entry/%5B...slug%5D-3127ec1dc84fe9f11e8f.js" as="script"/></head><body><div id="__next"><div><section class="text-gray-700 body-font"><div class="container px-5 md:px-24 p-5 md:pb-12 mx-auto max-w-screen-lg"><h1 class="text-xl font-bold title-font text-gray-900 mb-4 inline-block border-b-4 border-gray-900"><a href="/">NOT SO BAD なブログ</a></h1><h2 class="text-xs text-gray-700 tracking-widest font-medium title-font">ぼっちスタートアップが日々がんばっています。</h2></div></section><section class="text-gray-700 body-font overflow-hidden break-all"><div class="container px-5 md:px-24 pb-24 mx-auto max-w-screen-lg"><div class="-my-8"><div class="py-12 flex flex-wrap md:flex-no-wrap"><div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"><span class="mt-1 text-gray-900 font-bold">2019-10-01</span></div><div class="flex-grow"><h2 class="text-2xl md:text-3xl font-bold text-gray-900 title-font mb-4">作品の書き出しなども取得できるちょっと便利な青空文庫API「ZORAPI（ゾラピ）」ベータ版を公開しました</h2><div class="mb-4"><a href="/tag/%E3%81%A4%E3%81%8F%E3%81%A3%E3%81%9F%E3%82%82%E3%81%AE"><span class="bg-gray-200 px-2 py-1 mr-2 text-sm rounded-md">つくったもの</span></a><a href="/tag/%E3%82%BE%E3%83%A9%E3%82%B5%E3%83%BC%E3%83%81"><span class="bg-gray-200 px-2 py-1 mr-2 text-sm rounded-md">ゾラサーチ</span></a><a href="/tag/ZORAPI"><span class="bg-gray-200 px-2 py-1 mr-2 text-sm rounded-md">ZORAPI</span></a><a href="/tag/%E9%9D%92%E7%A9%BA%E6%96%87%E5%BA%AB"><span class="bg-gray-200 px-2 py-1 mr-2 text-sm rounded-md">青空文庫</span></a></div><img src="https://storage.googleapis.com/blog-notsobad/images/20191002085846.png" alt="作品の書き出しなども取得できるちょっと便利な青空文庫API「ZORAPI（ゾラピ）」ベータ版を公開しました" class="mb-4"/><div id="mainText" class="leading-relaxed"><p class="mt-4 mb-8"><a href="https://bungomail.com/" target="_blank" class="text-blue-600 underline">ブンゴウメール</a>や<a href="https://search.bungomail.com/" target="_blank" class="text-blue-600 underline">ゾラサーチ</a>など、青空文庫を活用したサービスを色々作っています。 その関係で青空文庫APIがほしくて眠れない日々が続いていたので、作りました。</p><p class="mt-4 mb-8">「AOZORA」+「API」で「ZORAPI（ゾラピ）」です。</p><p class="mt-4 mb-8"><a href="https://api.bungomail.com/" target="_blank" class="text-blue-600 underline">青空文庫API - ZORAPI（ゾラピ）</a></p><p class="mt-4 mb-8">「ゾラサーチ」というのが青空文庫を読了時間で検索できるようにしたサービスで、このAPIはそのデータを誰でも使えるように一般公開したものです。 そのため通常の作品情報に加えて、作品の文字数や書き出し・青空文庫での累計アクセス数などの情報も返してくれるあたりがちょっといい感じかと思います。</p><p class="mt-4 mb-8">例えばメロスだとこんな感じ：<a href="https://api.bungomail.com/v0/books/1567" target="_blank" class="text-blue-600 underline">https://api.bungomail.com/v0/books/1567</a></p><p class="mt-4 mb-8">まだまだ不具合もありそうだけど、一旦使えるようにはなったので公開してみます。 v0なのでいろいろ許してください（フィードバック大歓迎です）。* * *</p><h2 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-2xl">つくったもの</h2><p class="mt-4 mb-8">青空文庫には2019年9月現在で約1.6万件の作品データ、約1,000件程度の人物（著者・翻訳者など）データが登録されています。 公式がこれをまとめた巨大なCSVファイルを自動更新で公開してくれているので、基本的にこのデータを検索して返すAPIとなっています。</p><p class="mt-4 mb-8">公式CSVをスプレッドシートに取り込んで公開してるので、どんなデータが返ってくるかはこれを見てもらうのが早いかと。 （実際のResponseフォーマットは一部異なるので、詳細は<a href="https://api.bungomail.com/" target="_blank" class="text-blue-600 underline">ドキュメント</a>をご参照ください）</p><p class="mt-4 mb-8"><a href="https://docs.google.com/spreadsheets/d/1n04e6POI04TBt-3HJUH10-T5cxhPZHcBWmFA4tSHjqE/edit?usp=sharing" target="_blank" class="text-blue-600 underline">青空文庫API用データ - Google スプレッドシート</a></p><p class="mt-4 mb-8">公式CSVは毎日更新されてますが、ほとんどの場合そんなに最新のデータが必要になるわけじゃないと思うので、データ更新は不定期で対応する予定です。APIで取れるデータの最新情報は前述のスプレッドシートで確認してください。</p><hr class="my-8"/><h2 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-2xl">使い方</h2><p class="mt-4 mb-8">books, personsそれぞれのエンドポイントに対して、カラム名での検索と、ID指定で特定ドキュメントの取得ができます。 検索は基本完全一致ですが、一部カラムはLIKE検索もサポートしています（後述）。</p><h4 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-lg">検索（一覧取得）</h4><ul class="text-left list-disc ml-6"><li class="leading-8"><a href="https://api.bungomail.com/v0/books?作品名=桃太郎" target="_blank" class="text-blue-600 underline">https://api.bungomail.com/v0/books?作品名=桃太郎</a></li><li class="leading-8"><a href="https://api.bungomail.com/v0/books?作品著作権フラグ=なし&amp;文字遣い種別=新字新仮名&amp;limit=5" target="_blank" class="text-blue-600 underline">https://api.bungomail.com/v0/books?作品著作権フラグ=なし&amp;文字遣い種別=新字新仮名&amp;limit=5</a></li><li class="leading-8"><a href="https://api.bungomail.com/v0/persons?人物著作権フラグ=なし&amp;limit=5" target="_blank" class="text-blue-600 underline">https://api.bungomail.com/v0/persons?人物著作権フラグ=なし&amp;limit=5</a></li></ul><p class="mt-4 mb-8">検索対象となるのは、スプレッドシートでオレンジ色になっているカラムです。 対象カラムであれば、上記の例のように複数組み合わせて絞り込み（AND検索）することもできます。</p><h4 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-lg">特定レコード取得</h4><ul class="text-left list-disc ml-6"><li class="leading-8"><a href="https://api.bungomail.com/v0/books/1567" target="_blank" class="text-blue-600 underline">https://api.bungomail.com/v0/books/1567</a>（作品ID）</li><li class="leading-8"><a href="https://api.bungomail.com/v0/persons/35" target="_blank" class="text-blue-600 underline">https://api.bungomail.com/v0/persons/35</a>（人物ID）</li></ul><p class="mt-4 mb-8">詳細な使い方やレスポンスのフォーマットについては<a href="https://api.bungomail.com" target="_blank" class="text-blue-600 underline">ドキュメント</a>をご参照ください。</p><hr class="my-8"/><h2 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-2xl">アピールポイント</h2><h3 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-xl">作品の文字数・書き出し・累計アクセス数も取れる</h3><p class="mt-4 mb-8">公式のCSVで得られる情報に加えて、「ゾラサーチ」で利用している独自データも追加しています。 具体的には「作品の文字数」「書き出し」「累計アクセス数」です。</p><p class="mt-4 mb-8">夢が広がりますね。</p><h3 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-xl">LIKE検索も（一部）サポート</h3><p class="mt-4 mb-8">Firestoreを使ってるので検索が弱く、基本的に検索は完全一致となります。 たださすがにフリーワード検索したいこともあるので、一部カラムでLIKE検索もサポートしました。</p><p class="mt-4 mb-8">booksの「作品名」、personsの「姓名」カラムが、それぞれLIKE検索に対応しています。</p><ul class="text-left list-disc ml-6"><li class="leading-8"><a href="https://api.bungomail.com/v0/books?作品名=/走れ/&amp;姓名=太宰治" target="_blank" class="text-blue-600 underline">https://api.bungomail.com/v0/books?作品名=/走れ/&amp;姓名=太宰治</a></li></ul><p class="mt-4 mb-8">のように<code>//</code>で囲んでお使いください。他のカラムとの併用も可能です。</p><p class="mt-4 mb-8">Firestoreで全文検索する方法はこちらの記事を参考にさせていただきました。</p><span><iframe src="https://hatenablog-parts.com/embed?url=https%3A%2F%2Fqiita.com%2Foukayuka%2Fitems%2Fd3cee72501a55e8be44a" title="Firestore だけで Algolia を使わず全文検索 - Qiita" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="https://qiita.com/oukayuka/items/d3cee72501a55e8be44a">qiita.com</a></cite></span><p class="mt-4 mb-8">控えめに言って天才としか言いようがないメソッドですので、Firestore使う方はぜひご参考ください。 感謝しすぎてreact使ったこともないのに「りあクト！」新刊買ってしまいましたw</p><hr class="my-8"/><h2 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-2xl">限界</h2><p class="mt-4 mb-8">こんな感じのAPIなんですが、無料運営にこだわってFirestoreに依存している結果、弱点も多いです。許してください。</p><h5 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-lg">並べ替えができない</h5><p class="mt-4 mb-8">すべてのレスポンスが「累計アクセス数↓・作品ID↑」順でソートされております。 これ以外でのソートはできません。文字数とか名前とかで並べたいよね。ごめんね。</p><p class="mt-4 mb-8">しかし複合indexの組み合わせが爆発するので、とてもすべてはindexできそうにありません。 どうしてもこの条件でソートしなければ死ぬ、とかの要件があればご相談ください。 （でもそこまで追い詰められてたら自前でデータ取り込んで検索したほうがいいと思います）</p><h5 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-lg">アクセス数が爆増したら登録制にするかも</h5><p class="mt-4 mb-8">Firebaseの無料プランで運営しているため、当然使用量に制限があります。 検索結果は超長期でCDNキャッシュする予定ですが、それでもアクセスが多すぎる場合は登録制にして利用を制限するかもしれません。あらかじめご了承ください。たぶんそんなことにはならないと思うんですけど。</p><p class="mt-4 mb-8">また全データ取得の目的でAPI投げまくるとかを検討されている場合、たぶん公開してるスプレッドシートをダウンロードして直接読み込んでもらったほうがお互いハッピーだと思いますので、ぜひそちらをご検討ください。</p><hr class="my-8"/><h2 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-2xl">まとめ</h2><p class="mt-4 mb-8">という感じで、まぁいろいろ制限はありますが何とか使えなくもないAPIができたんじゃないかと思います。</p><p class="mt-4 mb-8">がんばりすぎずに長生きしてほしいなと思ってますので、これでもいいよという方はぜひ使ってみてください。 バグや改善要望、使ってみたレポートもお待ちしておりますよ。</p><p class="mt-4 mb-8">おしまい。</p></div></div></div></div></div></section><footer class="text-gray-200 body-font"><div class="bg-gray-900"><div class="container mx-auto py-6 px-5 md:px-24 flex flex-wrap flex-col sm:flex-row max-w-screen-lg"><p class="text-gray-200 text-sm text-center sm:text-left"><a class="text-gray-500 hover:text-gray-200 ml-1" href="/">© 2020 NOT SO BADなブログ</a></p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"entry":{"title":"作品の書き出しなども取得できるちょっと便利な青空文庫API「ZORAPI（ゾラピ）」ベータ版を公開しました","slug":"2019/10/01/182951","excerpt":"![f:id:o_tomomichi:20191002085846p:plain](https://storage.googleapis.com/blog-notsobad/images/20191002085846.png \"f:id:o_tomomichi:20191002085846p:plain\")\n\n[ブンゴウメール](https://bungomail.com/)や[ゾラサーチ](https://search.bungomail.com/)など、青空文庫を活用したサービスを色々作っています。 その関係で青空文庫APIがほしくて眠れない日々が続いていたので、作りました。\n\n「AOZORA」+「API」で「ZORAPI（ゾラピ）」です。\n\n[青空文庫API - ZORAPI（ゾラピ）](https://api.bungomail.com/)\n\n「ゾラサーチ」というのが青空文庫を読了時間で検索できるようにしたサービスで、このAPIはそのデータを誰でも使えるように一般公開したものです。 そのため通常の作品情報に加えて、作品の文字数や書き出し・青空文庫での累計アクセス数などの情報も返してくれるあたりがちょっといい感じかと思います。\n\n例えばメロスだとこんな感じ：[https://api.bungomail.com/v0/books/1567](https://api.bungomail.com/v0/books/1567)\n\nまだまだ不具合もありそうだけど、一旦使えるようにはなったので公開してみます。 v0なのでいろいろ許してください（フィードバック大歓迎です）。","content":"![f:id:o_tomomichi:20191002085846p:plain](https://storage.googleapis.com/blog-notsobad/images/20191002085846.png \"f:id:o_tomomichi:20191002085846p:plain\")\n\n[ブンゴウメール](https://bungomail.com/)や[ゾラサーチ](https://search.bungomail.com/)など、青空文庫を活用したサービスを色々作っています。 その関係で青空文庫APIがほしくて眠れない日々が続いていたので、作りました。\n\n「AOZORA」+「API」で「ZORAPI（ゾラピ）」です。\n\n[青空文庫API - ZORAPI（ゾラピ）](https://api.bungomail.com/)\n\n「ゾラサーチ」というのが青空文庫を読了時間で検索できるようにしたサービスで、このAPIはそのデータを誰でも使えるように一般公開したものです。 そのため通常の作品情報に加えて、作品の文字数や書き出し・青空文庫での累計アクセス数などの情報も返してくれるあたりがちょっといい感じかと思います。\n\n例えばメロスだとこんな感じ：[https://api.bungomail.com/v0/books/1567](https://api.bungomail.com/v0/books/1567)\n\nまだまだ不具合もありそうだけど、一旦使えるようにはなったので公開してみます。 v0なのでいろいろ許してください（フィードバック大歓迎です）。* * *\n\nつくったもの\n------\n\n青空文庫には2019年9月現在で約1.6万件の作品データ、約1,000件程度の人物（著者・翻訳者など）データが登録されています。 公式がこれをまとめた巨大なCSVファイルを自動更新で公開してくれているので、基本的にこのデータを検索して返すAPIとなっています。\n\n公式CSVをスプレッドシートに取り込んで公開してるので、どんなデータが返ってくるかはこれを見てもらうのが早いかと。 （実際のResponseフォーマットは一部異なるので、詳細は[ドキュメント](https://api.bungomail.com/)をご参照ください）\n\n[青空文庫API用データ - Google スプレッドシート](https://docs.google.com/spreadsheets/d/1n04e6POI04TBt-3HJUH10-T5cxhPZHcBWmFA4tSHjqE/edit?usp=sharing)\n\n公式CSVは毎日更新されてますが、ほとんどの場合そんなに最新のデータが必要になるわけじゃないと思うので、データ更新は不定期で対応する予定です。APIで取れるデータの最新情報は前述のスプレッドシートで確認してください。\n\n* * *\n\n使い方\n---\n\nbooks, personsそれぞれのエンドポイントに対して、カラム名での検索と、ID指定で特定ドキュメントの取得ができます。 検索は基本完全一致ですが、一部カラムはLIKE検索もサポートしています（後述）。\n\n#### 検索（一覧取得）\n\n*   [https://api.bungomail.com/v0/books?作品名=桃太郎](https://api.bungomail.com/v0/books?作品名=桃太郎)\n*   [https://api.bungomail.com/v0/books?作品著作権フラグ=なし\u0026文字遣い種別=新字新仮名\u0026limit=5](https://api.bungomail.com/v0/books?作品著作権フラグ=なし\u0026文字遣い種別=新字新仮名\u0026limit=5)\n*   [https://api.bungomail.com/v0/persons?人物著作権フラグ=なし\u0026limit=5](https://api.bungomail.com/v0/persons?人物著作権フラグ=なし\u0026limit=5)\n\n検索対象となるのは、スプレッドシートでオレンジ色になっているカラムです。 対象カラムであれば、上記の例のように複数組み合わせて絞り込み（AND検索）することもできます。\n\n#### 特定レコード取得\n\n*   [https://api.bungomail.com/v0/books/1567](https://api.bungomail.com/v0/books/1567)（作品ID）\n*   [https://api.bungomail.com/v0/persons/35](https://api.bungomail.com/v0/persons/35)（人物ID）\n\n詳細な使い方やレスポンスのフォーマットについては[ドキュメント](https://api.bungomail.com)をご参照ください。\n\n* * *\n\nアピールポイント\n--------\n\n### 作品の文字数・書き出し・累計アクセス数も取れる\n\n公式のCSVで得られる情報に加えて、「ゾラサーチ」で利用している独自データも追加しています。 具体的には「作品の文字数」「書き出し」「累計アクセス数」です。\n\n夢が広がりますね。\n\n### LIKE検索も（一部）サポート\n\nFirestoreを使ってるので検索が弱く、基本的に検索は完全一致となります。 たださすがにフリーワード検索したいこともあるので、一部カラムでLIKE検索もサポートしました。\n\nbooksの「作品名」、personsの「姓名」カラムが、それぞれLIKE検索に対応しています。\n\n*   [https://api.bungomail.com/v0/books?作品名=/走れ/\u0026姓名=太宰治](https://api.bungomail.com/v0/books?作品名=/走れ/\u0026姓名=太宰治)\n\nのように`//`で囲んでお使いください。他のカラムとの併用も可能です。\n\nFirestoreで全文検索する方法はこちらの記事を参考にさせていただきました。\n\n\u003ciframe src=\"https://hatenablog-parts.com/embed?url=https%3A%2F%2Fqiita.com%2Foukayuka%2Fitems%2Fd3cee72501a55e8be44a\" title=\"Firestore だけで Algolia を使わず全文検索 - Qiita\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"\u003e\u003c/iframe\u003e\u003ccite class=\"hatena-citation\"\u003e\u003ca href=\"https://qiita.com/oukayuka/items/d3cee72501a55e8be44a\"\u003eqiita.com\u003c/a\u003e\u003c/cite\u003e\n\n控えめに言って天才としか言いようがないメソッドですので、Firestore使う方はぜひご参考ください。 感謝しすぎてreact使ったこともないのに「りあクト！」新刊買ってしまいましたw\n\n* * *\n\n限界\n--\n\nこんな感じのAPIなんですが、無料運営にこだわってFirestoreに依存している結果、弱点も多いです。許してください。\n\n##### 並べ替えができない\n\nすべてのレスポンスが「累計アクセス数↓・作品ID↑」順でソートされております。 これ以外でのソートはできません。文字数とか名前とかで並べたいよね。ごめんね。\n\nしかし複合indexの組み合わせが爆発するので、とてもすべてはindexできそうにありません。 どうしてもこの条件でソートしなければ死ぬ、とかの要件があればご相談ください。 （でもそこまで追い詰められてたら自前でデータ取り込んで検索したほうがいいと思います）\n\n##### アクセス数が爆増したら登録制にするかも\n\nFirebaseの無料プランで運営しているため、当然使用量に制限があります。 検索結果は超長期でCDNキャッシュする予定ですが、それでもアクセスが多すぎる場合は登録制にして利用を制限するかもしれません。あらかじめご了承ください。たぶんそんなことにはならないと思うんですけど。\n\nまた全データ取得の目的でAPI投げまくるとかを検討されている場合、たぶん公開してるスプレッドシートをダウンロードして直接読み込んでもらったほうがお互いハッピーだと思いますので、ぜひそちらをご検討ください。\n\n* * *\n\nまとめ\n---\n\nという感じで、まぁいろいろ制限はありますが何とか使えなくもないAPIができたんじゃないかと思います。\n\nがんばりすぎずに長生きしてほしいなと思ってますので、これでもいいよという方はぜひ使ってみてください。 バグや改善要望、使ってみたレポートもお待ちしておりますよ。\n\nおしまい。","date":1569922191000,"image":"https://storage.googleapis.com/blog-notsobad/images/20191002085846.png","tag":["つくったもの","ゾラサーチ","ZORAPI","青空文庫"]}},"__N_SSG":true},"page":"/entry/[...slug]","query":{"slug":["2019","10","01","182951"]},"buildId":"K3YMmB9NhNXs2s9mTrvrO","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-eef578260fd80f8fff94.js"></script><script src="/_next/static/chunks/webpack-277c75ec70a3d22a400d.js" async=""></script><script src="/_next/static/chunks/framework-6b728500358bd9f227e4.js" async=""></script><script src="/_next/static/chunks/main-38482bdb4ba8803cee02.js" async=""></script><script src="/_next/static/chunks/pages/_app-de79de6c1e2dcb6d52dc.js" async=""></script><script src="/_next/static/chunks/23-a289b06b4258f5c2d579.js" async=""></script><script src="/_next/static/chunks/996-fa0b52be06882e958afa.js" async=""></script><script src="/_next/static/chunks/724-975cef7c19a6db045a02.js" async=""></script><script src="/_next/static/chunks/pages/entry/%5B...slug%5D-3127ec1dc84fe9f11e8f.js" async=""></script><script src="/_next/static/K3YMmB9NhNXs2s9mTrvrO/_buildManifest.js" async=""></script><script src="/_next/static/K3YMmB9NhNXs2s9mTrvrO/_ssgManifest.js" async=""></script></body></html>