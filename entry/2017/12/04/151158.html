<!DOCTYPE html><html lang="ja"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-30867542-2"></script><script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-30867542-2', {
              page_path: window.location.pathname,
            });
          </script><meta charSet="utf-8"/><meta content="width=device-width, initial-scale=1, minimum-scale=1" name="viewport"/><link rel="icon" href="/images/notsobad/favicon.ico"/><meta name="description" content="ぼっちスタートアップが日々がんばっています。"/><meta content="website" property="og:type"/><meta content="https://blog.notsobad.jp/images/notsobad/ogp.png" property="og:image"/><meta content="NOT SO BADなブログ" property="og:site_name"/><meta content="summary_large_image" name="twitter:card"/><meta content="https://blog.notsobad.jp/images/notsobad/ogp.png" name="twitter:image:src"/><title>日本語で国名を選択できて、値はISOの国コードになってるいい感じのセレクトボックスを5分でお手軽に用意する</title><meta content="日本語で国名を選択できて、値はISOの国コードになってるいい感じのセレクトボックスを5分でお手軽に用意する" property="og:title"/><meta content="https://notsobad.jp/blog/2017/12/04/151158" property="og:url"/><link rel="canonical" href="https://blog.notsobad.jp/2017/12/04/151158"/><meta content="国を選択させたいこと、ありますよね。

セレクトボックスでは国名を表示させたいけど、値はISOの2桁国コードで保存したいってやつ。

もちろん国名は日本語で。

そんな状況がまた来たので、お手軽に5分で作れる方法を考えてみました。よければご活用ください。" property="og:description"/><meta content="日本語で国名を選択できて、値はISOの国コードになってるいい感じのセレクトボックスを5分でお手軽に用意する" name="twitter:title"/><meta content="国を選択させたいこと、ありますよね。

セレクトボックスでは国名を表示させたいけど、値はISOの2桁国コードで保存したいってやつ。

もちろん国名は日本語で。

そんな状況がまた来たので、お手軽に5分で作れる方法を考えてみました。よければご活用ください。" name="twitter:description"/><meta name="next-head-count" content="16"/><link rel="preload" href="/_next/static/css/5644b8298dd7411e7ddf.css" as="style"/><link rel="stylesheet" href="/_next/static/css/5644b8298dd7411e7ddf.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-277c75ec70a3d22a400d.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-6b728500358bd9f227e4.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-38482bdb4ba8803cee02.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-de79de6c1e2dcb6d52dc.js" as="script"/><link rel="preload" href="/_next/static/chunks/23-a289b06b4258f5c2d579.js" as="script"/><link rel="preload" href="/_next/static/chunks/996-fa0b52be06882e958afa.js" as="script"/><link rel="preload" href="/_next/static/chunks/724-975cef7c19a6db045a02.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/entry/%5B...slug%5D-3127ec1dc84fe9f11e8f.js" as="script"/></head><body><div id="__next"><div><section class="text-gray-700 body-font"><div class="container px-5 md:px-24 p-5 md:pb-12 mx-auto max-w-screen-lg"><h1 class="text-xl font-bold title-font text-gray-900 mb-4 inline-block border-b-4 border-gray-900"><a href="/">NOT SO BAD なブログ</a></h1><h2 class="text-xs text-gray-700 tracking-widest font-medium title-font">ぼっちスタートアップが日々がんばっています。</h2></div></section><section class="text-gray-700 body-font overflow-hidden break-all"><div class="container px-5 md:px-24 pb-24 mx-auto max-w-screen-lg"><div class="-my-8"><div class="py-12 flex flex-wrap md:flex-no-wrap"><div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col"><span class="mt-1 text-gray-900 font-bold">2017-12-04</span></div><div class="flex-grow"><h2 class="text-2xl md:text-3xl font-bold text-gray-900 title-font mb-4">日本語で国名を選択できて、値はISOの国コードになってるいい感じのセレクトボックスを5分でお手軽に用意する</h2><div class="mb-4"><a href="/tag/%E6%8A%80%E8%A1%93%E7%B3%BB"><span class="bg-gray-200 px-2 py-1 mr-2 text-sm rounded-md">技術系</span></a></div><div id="mainText" class="leading-relaxed"><p class="mt-4 mb-8">国を選択させたいこと、ありますよね。</p><p class="mt-4 mb-8">セレクトボックスでは国名を表示させたいけど、値はISOの2桁国コードで保存したいってやつ。</p><p class="mt-4 mb-8">もちろん国名は日本語で。</p><h2 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-2xl">そんな状況がまた来たので、お手軽に5分で作れる方法を考えてみました。よければご活用ください。経緯と方針</h2><p class="mt-4 mb-8">これ昔やってたときはRailsでgem入れたりしてたのです。</p><p class="mt-4 mb-8">しかし今回はRailsを離れて素のhtml/jsで書いてたので、どうしたもんかなーと思いまして。</p><p class="mt-4 mb-8">普通にライブラリとか探してたのですが、なかなかよさそうなのがない。</p><p class="mt-4 mb-8">で探しているとこんな記事を見つけました。</p><span><iframe src="https://hatenablog-parts.com/embed?url=http%3A%2F%2Fmiz2403.com%2Fcountries-list%2F" title="問い合わせページなどで国名をドロップダウンで選択する為のselectタグリスト" class="embed-card embed-webcard" scrolling="no" frameborder="0" style="display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;"></iframe><cite class="hatena-citation"><a href="http://miz2403.com/countries-list/">miz2403.com</a></cite></span><p class="mt-4 mb-8">selectとoptionに国がずらっと入ってるやつが、テキストでコピペできるように用意されてます。</p><p class="mt-4 mb-8">なるほど、よく考えればこれで十分じゃないかと。</p><p class="mt-4 mb-8">国名なんてそうそうアップデートされるものでもないので、メンテナンス性はそんなに考慮しなくていいし。</p><p class="mt-4 mb-8">逆にライブラリとか使わない方がメンテナンスフリーで運用にはよさそうかもしれない。</p><p class="mt-4 mb-8">というわけで、ライブラリに頼らず生のHTML出力する方向ですすめてみます。</p><p class="mt-4 mb-8">さっきのリンクだと英語版しかないので、これの日本語版を用意するのがゴールです。</p><h2 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-2xl">やりかた</h2><p class="mt-4 mb-8">とにかく一回リストを作ってしまえばいいだけなので、いかに省力でいけるかがカギです。</p><h3 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-xl">Wikiの一覧ページをコピってスプレッドシードに貼り付ける</h3><p class="mt-4 mb-8">まずは日本語の国名とISOコードが一覧になった元データを探します。</p><p class="mt-4 mb-8">Wikipediaにいい感じのページがありました。</p><p class="mt-4 mb-8"><a href="https://ja.wikipedia.org/wiki/ISO_3166-1" target="_blank" class="text-blue-600 underline">ISO 3166-1 - Wikipedia</a></p><p class="mt-4 mb-8">このテーブルの部分をまるっと選択してコピーして、スプレッドシートに貼り付けます。</p><p class="mt-4 mb-8">もちろんお好みでエクセルを使ってもかまいません。</p><h3 class="font-bold inline-block mb-2 mt-8 md:mt-8 text-xl">CONCATENATE関数でoptionタグを生成</h3><p class="mt-4 mb-8">次にこのデータから大量のoptionタグを生成します。</p><p class="mt-4 mb-8">やることはめちゃシンプルで、スプレッドシードのconcatenate（文字列結合）関数を使って、いい感じにタグを作るだけです。</p><p class="mt-4 mb-8">こんな感じ。</p><p class="mt-4 mb-8">メインの部分は、</p><p class="mt-4 mb-8"><code>=CONCATENATE(&quot;&lt;option value=&#x27;&quot;,LOWER(E3),&quot;&#x27;&gt;&quot;,A3,&quot;&lt;/option&gt;&quot;)</code></p><p class="mt-4 mb-8">で、E列がISO2桁のコード、A列が日本語の国名ですね。</p><p class="mt-4 mb-8">今回はISOを小文字で使いたかったのでLOWER関数をかませてます。</p><p class="mt-4 mb-8">この時点でもうほぼほぼできています。</p><p class="mt-4 mb-8">最後の仕上げとして、元のWikipediaのテーブルに値が入っていない見出し行があるため、これを除外するようにIF文を追加します。</p><p class="mt-4 mb-8"><code>=if(E3&lt;&gt;&quot;&quot;, CONCATENATE(&quot;&lt;option value=&#x27;&quot;,LOWER(E3),&quot;&#x27;&gt;&quot;,A3,&quot;&lt;/option&gt;&quot;), &quot;&quot;)</code></p><p class="mt-4 mb-8">これでいい感じにoptionタグが生成されました。</p><p class="mt-4 mb-8">あとはふつうにこれをコピペするだけで使えます。</p><p class="mt-4 mb-8">超お手軽！</p><hr class="my-8"/><p class="mt-4 mb-8">英語名の列もあるので、英語版への切替も簡単にできそうです。</p><p class="mt-4 mb-8">おしまい。</p></div></div></div></div></div></section><footer class="text-gray-200 body-font"><div class="bg-gray-900"><div class="container mx-auto py-6 px-5 md:px-24 flex flex-wrap flex-col sm:flex-row max-w-screen-lg"><p class="text-gray-200 text-sm text-center sm:text-left"><a class="text-gray-500 hover:text-gray-200 ml-1" href="/">© 2020 NOT SO BADなブログ</a></p></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"entry":{"title":"日本語で国名を選択できて、値はISOの国コードになってるいい感じのセレクトボックスを5分でお手軽に用意する","slug":"2017/12/04/151158","excerpt":"国を選択させたいこと、ありますよね。\n\nセレクトボックスでは国名を表示させたいけど、値はISOの2桁国コードで保存したいってやつ。\n\nもちろん国名は日本語で。\n\nそんな状況がまた来たので、お手軽に5分で作れる方法を考えてみました。よければご活用ください。","content":"国を選択させたいこと、ありますよね。\n\nセレクトボックスでは国名を表示させたいけど、値はISOの2桁国コードで保存したいってやつ。\n\nもちろん国名は日本語で。\n\nそんな状況がまた来たので、お手軽に5分で作れる方法を考えてみました。よければご活用ください。経緯と方針\n-----\n\nこれ昔やってたときはRailsでgem入れたりしてたのです。\n\nしかし今回はRailsを離れて素のhtml/jsで書いてたので、どうしたもんかなーと思いまして。\n\n普通にライブラリとか探してたのですが、なかなかよさそうなのがない。\n\nで探しているとこんな記事を見つけました。\n\n\u003ciframe src=\"https://hatenablog-parts.com/embed?url=http%3A%2F%2Fmiz2403.com%2Fcountries-list%2F\" title=\"問い合わせページなどで国名をドロップダウンで選択する為のselectタグリスト\" class=\"embed-card embed-webcard\" scrolling=\"no\" frameborder=\"0\" style=\"display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;\"\u003e\u003c/iframe\u003e\u003ccite class=\"hatena-citation\"\u003e\u003ca href=\"http://miz2403.com/countries-list/\"\u003emiz2403.com\u003c/a\u003e\u003c/cite\u003e\n\nselectとoptionに国がずらっと入ってるやつが、テキストでコピペできるように用意されてます。\n\nなるほど、よく考えればこれで十分じゃないかと。\n\n国名なんてそうそうアップデートされるものでもないので、メンテナンス性はそんなに考慮しなくていいし。\n\n逆にライブラリとか使わない方がメンテナンスフリーで運用にはよさそうかもしれない。\n\nというわけで、ライブラリに頼らず生のHTML出力する方向ですすめてみます。\n\nさっきのリンクだと英語版しかないので、これの日本語版を用意するのがゴールです。\n\nやりかた\n----\n\nとにかく一回リストを作ってしまえばいいだけなので、いかに省力でいけるかがカギです。\n\n### Wikiの一覧ページをコピってスプレッドシードに貼り付ける\n\nまずは日本語の国名とISOコードが一覧になった元データを探します。\n\nWikipediaにいい感じのページがありました。\n\n[ISO 3166-1 - Wikipedia](https://ja.wikipedia.org/wiki/ISO_3166-1)\n\nこのテーブルの部分をまるっと選択してコピーして、スプレッドシートに貼り付けます。\n\nもちろんお好みでエクセルを使ってもかまいません。\n\n### CONCATENATE関数でoptionタグを生成\n\n次にこのデータから大量のoptionタグを生成します。\n\nやることはめちゃシンプルで、スプレッドシードのconcatenate（文字列結合）関数を使って、いい感じにタグを作るだけです。\n\nこんな感じ。\n\n![f:id:o_tomomichi:20171204144804p:plain](https://storage.googleapis.com/blog-notsobad/images/20171204144804.png \"f:id:o_tomomichi:20171204144804p:plain\")\n\nメインの部分は、\n\n`=CONCATENATE(\"\u003coption value='\",LOWER(E3),\"'\u003e\",A3,\"\u003c/option\u003e\")`\n\nで、E列がISO2桁のコード、A列が日本語の国名ですね。\n\n今回はISOを小文字で使いたかったのでLOWER関数をかませてます。\n\nこの時点でもうほぼほぼできています。\n\n最後の仕上げとして、元のWikipediaのテーブルに値が入っていない見出し行があるため、これを除外するようにIF文を追加します。\n\n`=if(E3\u003c\u003e\"\", CONCATENATE(\"\u003coption value='\",LOWER(E3),\"'\u003e\",A3,\"\u003c/option\u003e\"), \"\")`\n\nこれでいい感じにoptionタグが生成されました。\n\nあとはふつうにこれをコピペするだけで使えます。\n\n超お手軽！\n\n* * *\n\n英語名の列もあるので、英語版への切替も簡単にできそうです。\n\nおしまい。","date":1512367918000,"tag":["技術系"]}},"__N_SSG":true},"page":"/entry/[...slug]","query":{"slug":["2017","12","04","151158"]},"buildId":"K3YMmB9NhNXs2s9mTrvrO","isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-eef578260fd80f8fff94.js"></script><script src="/_next/static/chunks/webpack-277c75ec70a3d22a400d.js" async=""></script><script src="/_next/static/chunks/framework-6b728500358bd9f227e4.js" async=""></script><script src="/_next/static/chunks/main-38482bdb4ba8803cee02.js" async=""></script><script src="/_next/static/chunks/pages/_app-de79de6c1e2dcb6d52dc.js" async=""></script><script src="/_next/static/chunks/23-a289b06b4258f5c2d579.js" async=""></script><script src="/_next/static/chunks/996-fa0b52be06882e958afa.js" async=""></script><script src="/_next/static/chunks/724-975cef7c19a6db045a02.js" async=""></script><script src="/_next/static/chunks/pages/entry/%5B...slug%5D-3127ec1dc84fe9f11e8f.js" async=""></script><script src="/_next/static/K3YMmB9NhNXs2s9mTrvrO/_buildManifest.js" async=""></script><script src="/_next/static/K3YMmB9NhNXs2s9mTrvrO/_ssgManifest.js" async=""></script></body></html>